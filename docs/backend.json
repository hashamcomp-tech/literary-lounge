
{
  "entities": {
    "UsernameMap": {
      "description": "Mapping of username to email/uid for multi-identifier login.",
      "properties": {
        "uid": { "type": "string" },
        "email": { "type": "string" }
      }
    },
    "PublishRequest": {
      "description": "Reader application for cloud contributor status.",
      "properties": {
        "uid": { "type": "string" },
        "email": { "type": "string" },
        "requestedAt": { "type": "string", "format": "date-time" },
        "status": { "type": "string", "enum": ["pending", "approved", "rejected"] }
      }
    },
    "Book": {
      "description": "A cloud-hosted literary volume.",
      "properties": {
        "title": { "type": "string" },
        "author": { "type": "string" },
        "genre": { "type": "array", "items": { "type": "string" } },
        "views": { "type": "number" },
        "coverURL": { "type": "string" },
        "isCloud": { "type": "boolean" }
      }
    }
  },
  "auth": {
    "providers": ["email"]
  },
  "firestore": {
    "/usernames/{username}": { "schema": "#/entities/UsernameMap", "description": "Lookup index for username-based login." },
    "/publishRequests/{requestId}": { "schema": "#/entities/PublishRequest", "description": "Global queue for contributor vetting." },
    "/books/{bookId}": { "schema": "#/entities/Book", "description": "Main cloud library storage." }
  }
}
